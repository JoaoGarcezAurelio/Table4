[{"name":"app.R","content":"source(\"data_cleaning.R\")\n\nthematic_shiny()\n\nui <- page_fluid(\n  theme = bs_theme(preset = \"minty\"),\n  headerPanel(\"Table 4 - Outcome of the quality appraisal across individual studies\"),\n  reactableOutput(\"Table4\"),\n  textInput(\"footnote\", \"Note. Studies with an asterisk(*) assessed dosage only; the maximum score they can receive across Section 2, and the checklist, is 12 and 29 respectively. All other studies can score 19 and 36 across Section 2 and the checklist respectively.\",\n            width = \"100%\")\n)\n\nserver <- function(input, output) {\noutput$Table4 <- renderReactable({\n  reactable(Table4,\n            theme = default(centered = TRUE),\n            filterable = TRUE,\n            bordered = FALSE,\n            striped = FALSE,\n            highlight = TRUE,\n            searchable = TRUE,\n            defaultPageSize = 16,\n            columnGroups = list(\n              colGroup(name = \"Section Scores - Total Score\",\n                       columns = c(\"Section 1 - Study Design Score\",\n                                   \"Section 2 - Implementation - Data Collection Score\",\n                                   \"Section 3 - Implementation - Data Analysis Score\")\n              )\n            ),\n            columns = list(\n              Study_ID = colDef(\n                align = \"center\",\n                maxWidth = 130,\n                name = \"Study ID\",\n                cell = function(value, index) {\n                  label1 <- DOITable[index, \"Study_ID\"] # had to create a separate file for the DOIs to be read because I kept failing to get them using Table 4\n                  DOI <- DOITable[index, \"DOI\"]\n                  htmltools::div(\n                    htmltools::p(\n                      htmltools::tags$a(href = DOI, target = \"_blank\", label1)\n                    ),\n                  )\n                }\n              ),\n              \"First Author\" = colDef(\n                align = \"left\",\n                maxWidth = 130\n              ),\n              Year = colDef(\n                align = \"center\",\n                maxWidth = 130\n              ),\n              Country = colDef(\n                header = with_tooltip(\"Country\", \n                                      \"Country where data was collected\"),\n                maxWidth = 130\n              ),\n              CountryFlag = colDef(\n                name = \"\",\n                maxWidth = 70,\n                align = \"center\",\n                cell = embed_img(\"Country\",\n                                 height = \"25\",\n                                 width = \"40\")),\n              \"Total Score\" = colDef(\n                align = \"center\",\n                header = with_tooltip(\"Total Score\", \n                                      \"Sum score of Sections 1, 2, and 3\"),\n                cell = data_bars(Table4,\n                                 text_position = \"center\",\n                                 round_edges = TRUE,\n                                 box_shadow = TRUE,\n                                 bar_height = 15)\n              ),\n              \"Percentage_Score\" = colDef(\n                align = \"center\",\n                header = with_tooltip(\"Percentage Score\", \n                                      \"0-100%, with 100% being maximum possible score\"),\n                cell = data_bars(Table4,\n                                 text_position = \"center\",\n                                 round_edges = TRUE,\n                                 box_shadow = TRUE,\n                                 bar_height = 15)\n              ),\n              \"Section 1 - Study Design Score\" = colDef(\n                align = \"center\",\n                header = with_tooltip(\n                  \"Section 1 Score\", \n                  \"Score assigned to Study Design\"),\n                cell = data_bars(Table4,\n                                 text_position = \"center\",\n                                 round_edges = TRUE,\n                                 box_shadow = TRUE,\n                                 bar_height = 15)),\n              \"Section 2 - Implementation - Data Collection Score\" = colDef(\n                align = \"center\",\n                header = with_tooltip(\n                  \"Section 2 Score\", \n                  \"Score assigned to Data Collection process\"),\n                cell = data_bars(Table4,\n                                 text_position = \"center\",\n                                 round_edges = TRUE,\n                                 box_shadow = TRUE,\n                                 bar_height = 15)),\n              \"Section 3 - Implementation - Data Analysis Score\" = colDef(\n                align = \"center\",\n                header = with_tooltip(\n                  \"Section 3 Score\", \n                  \"Score assigned to Data Analysis process\"),\n                cell = data_bars(Table4,\n                                 text_position = \"center\",\n                                 round_edges = TRUE,\n                                 box_shadow = TRUE,\n                                 bar_height = 15)),\n              \"Classification\" = colDef(\n                header = with_tooltip(\"Classification\", \"Overall classification\"),\n                align = \"center\",\n                minWidth = 90,\n                cell = pill_buttons(Table4,\n                                    color_ref = \"Classification_colours\", \n                                    opacity = 0.7),\n              ),\n              \"Classification_colours\" = colDef(\n                show = FALSE)\n            )\n  )\n})\n\n}\n\n# Run the application \nshinyApp(ui = ui, server = server)\n","type":"text"},{"name":"Data/Processed Data/Table4.csv","content":"ï»¿Study_ID,First Author,Year,Country,CountryFlag,Total Score,Percentage_Score,Section 1 - Study Design Score,Section 2 - Implementation - Data Collection Score,Section 3 - Implementation - Data Analysis Score,Classification\r\n1,Al-Jbouri *,2023,Canada,https://upload.wikimedia.org/wikipedia/commons/archive/d/d9/20210109031434%21Flag_of_Canada_%28Pantone%29.svg,7,24,2,2,3,Low\r\n2,Berry,2016,England,https://upload.wikimedia.org/wikipedia/commons/archive/d/d9/20210109031434%21Flag_of_Canada_%28Pantone%29.svg,12,33,4,6,2,Medium\r\n3,Clarke,2014,Ireland,https://upload.wikimedia.org/wikipedia/commons/thumb/c/c4/Flag_of_Ireland_%283-2%29.svg/640px-Flag_of_Ireland_%283-2%29.svg.png,11,31,2,6,3,Low\r\n4,CPPRG,1999,USA,https://upload.wikimedia.org/wikipedia/commons/d/de/Flag_of_the_United_States.png,14,39,2,9,3,Medium\r\n5,Cook,2018,USA,https://upload.wikimedia.org/wikipedia/commons/d/de/Flag_of_the_United_States.png,14,39,2,8,4,Medium\r\n6,Faria,2012,USA,https://upload.wikimedia.org/wikipedia/commons/d/de/Flag_of_the_United_States.png,9,25,2,3,4,Low\r\n7,Gomez,2023,USA,https://upload.wikimedia.org/wikipedia/commons/d/de/Flag_of_the_United_States.png,21,58,2,9,10,Medium\r\n8,Haataja,2014,Finland,https://upload.wikimedia.org/wikipedia/commons/1/10/Flag_of_Finland.png,13,36,2,8,3,Medium\r\n9,Hennessey,2020,England,https://upload.wikimedia.org/wikipedia/commons/e/ef/England_flag.png,24,67,7,15,2,High\r\n10,Hirschstein,2007,USA,https://upload.wikimedia.org/wikipedia/commons/d/de/Flag_of_the_United_States.png,18,50,4,11,3,Medium\r\n11,Humphrey,2015,England,https://upload.wikimedia.org/wikipedia/commons/e/ef/England_flag.png,15,42,5,8,2,Medium\r\n12,Humphrey,2018,England,https://upload.wikimedia.org/wikipedia/commons/e/ef/England_flag.png,23,64,6,15,2,Medium\r\n13,Kam,2003,USA,https://upload.wikimedia.org/wikipedia/commons/d/de/Flag_of_the_United_States.png,5,14,0,4,1,Low\r\n14,Kam,2011,Hong Kong,https://cdn.britannica.com/43/82343-004-93844DE8/Flag-Hong-Kong-province-China.jpg,5,14,1,3,1,Low\r\n15,Kiviruusu *,2016,Finland,https://upload.wikimedia.org/wikipedia/commons/1/10/Flag_of_Finland.png,8,28,3,3,2,Low\r\n16,Leadbeater,2016,Canada,https://upload.wikimedia.org/wikipedia/commons/archive/d/d9/20210109031434%21Flag_of_Canada_%28Pantone%29.svg,11,31,2,5,2,Low\r\n17,Leadbeater,2018,Canada,https://upload.wikimedia.org/wikipedia/commons/archive/d/d9/20210109031434%21Flag_of_Canada_%28Pantone%29.svg,15,42,4,8,3,Medium\r\n18,Low,2014,USA,https://upload.wikimedia.org/wikipedia/commons/d/de/Flag_of_the_United_States.png,13,36,3,7,3,Medium\r\n19,Lynch,2018,England,https://upload.wikimedia.org/wikipedia/commons/e/ef/England_flag.png,4,11,0,4,0,Low\r\n20,Mauk,2010,USA,https://upload.wikimedia.org/wikipedia/commons/d/de/Flag_of_the_United_States.png,8,22,1,5,2,Low\r\n21,Mokrue *,2005,USA,https://upload.wikimedia.org/wikipedia/commons/d/de/Flag_of_the_United_States.png,7,24,2,5,0,Low\r\n22,Panayiotou *,2020,England,https://upload.wikimedia.org/wikipedia/commons/e/ef/England_flag.png,22,76,7,6,9,High\r\n23,Reyes,2012,USA,https://upload.wikimedia.org/wikipedia/commons/d/de/Flag_of_the_United_States.png,15,42,4,8,3,Medium\r\n24,Rosenblatt *,2008,USA,https://upload.wikimedia.org/wikipedia/commons/d/de/Flag_of_the_United_States.png,3,10,1,2,0,Low\r\n25,Shapiro,2018,USA,https://upload.wikimedia.org/wikipedia/commons/d/de/Flag_of_the_United_States.png,12,33,1,8,3,Medium\r\n26,Shum *,2019,Hong Kong,https://cdn.britannica.com/43/82343-004-93844DE8/Flag-Hong-Kong-province-China.jpg,3,10,1,0,2,Low\r\n27,Swift *,2017,USA,https://upload.wikimedia.org/wikipedia/commons/d/de/Flag_of_the_United_States.png,6,21,0,3,3,Low\r\n28,Wu *,2023,Sierra Leone,https://cdn.britannica.com/72/5072-050-823E3632/Flag-Sierra-Leone.jpg,12,41,4,5,3,Medium\r\n29,Humphrey,2018,England,https://upload.wikimedia.org/wikipedia/commons/e/ef/England_flag.png,23,64,7,14,2,Medium\r\n30,Low,2016,USA,https://upload.wikimedia.org/wikipedia/commons/d/de/Flag_of_the_United_States.png,14,39,4,8,2,Medium\r\n31,Low,2015,USA,https://upload.wikimedia.org/wikipedia/commons/d/de/Flag_of_the_United_States.png,10,28,2,5,3,Low","type":"text"},{"name":"README.md","content":"# Table 4 of the systematic review regarding the quality of SEL implementations\n\nThis repository contains the required files to build Table 4. The website below is the website for Table 3. Other tables are located in repositories with the respective names (e.g., Table3, Table5, etc.).\n\nWebsite link: https://joaogarcezaurelio.github.io/Table4\n","type":"text"},{"name":"Shinylive.R","content":"# Follow the HappywithGit instructions to set up the\n# process. They have very detailed info and chapters 15 to 17 are comprehensive.\n# If my PAT (personal access token) is still working, then I will simply skip \n# the next command (below). But if it has expired (you have written on dashlane\n# until when it is active) you need to generate a new one. The happywithgit book\n# has instructions on how you should proceed.\n# Also, make sure your git is up to date. They also have instructions on that.\n\n# Assuming all is sorted, you follow Rami Krispin's shinylive instructions.\n# To ensure that the app is exported to a docs folder using the shinylive:\n\nshinylive::export(\"/Users/user/Documents/JGA R World/Test2\", \n                  \"docs\")\n\n# To make sure your app renders, run the command below:\n\nhttpuv::runStaticServer(\"docs\")\n\n# Once this is done and you are certain the app works, you select the files in\n# the git tab that you want to commit and press commit. You will be asked to\n# provide info on what you are commiting before pressing commit. Once you press\n# commit, you should move to the next step, which is to press the green arrow\n# for push. That way you ensure that the files are actually pushed to github,\n# otherwise the commit files are not pushed and won't be in your github\n# repository.\n\n# Keep in mind to ensure that git is up to date using the \"brew git update\" in \n# the # terminal\n","type":"text"},{"name":"Table4.Rproj","content":"Version: 1.0\n\nRestoreWorkspace: Default\nSaveWorkspace: Default\nAlwaysSaveHistory: Default\n\nEnableCodeIndexing: Yes\nUseSpacesForTab: Yes\nNumSpacesForTab: 2\nEncoding: UTF-8\n\nRnwWeave: Sweave\nLaTeX: pdfLaTeX\n\nAutoAppendNewline: Yes\n","type":"text"},{"name":"data_cleaning.R","content":"# Key packages for the app\n\n# install.packages(\"shiny\") # For the shiny app\n#  install.packages(\"bslib\") # For certain shiny app traits\n#  install.packages(\"readr\") # For loading csv\n#  install.packages(\"shinythemes\") # For shiny themes\n#  install.packages(\"thematic\") # For consistence between layout and plots\n#  install.packages(\"reactable\") # For table\n#  install.packages(\"reactablefmtr\") # For table\n#  install.packages(\"here\") # For file management\n#  install.packages(\"shinylive\") # For github optimisation\n#  install.packages(\"htmltools\") # For the DOI links\n#  install.packages(\"magrittr\") # For the pipe (avoided tidyverse in case it makes it more difficult for shinyserver)\n#  install.packages(\"dplyr\") # For the mutate functions \n\n# Loading the packages\n\nlibrary(shiny) \nlibrary(bslib)\nlibrary(readr)\nlibrary(shinythemes)\nlibrary(thematic)\nlibrary(reactable)\nlibrary(reactablefmtr)\nlibrary(here)\nlibrary(shinylive)\nlibrary(htmltools)\nlibrary(magrittr)\nlibrary(dplyr)\n\n\n# Uploading the table\n\nTable4 <- \n  read_csv(here(\"Data\",\n                \"Processed Data\",\n                \"Table4.csv\"))\n\n# Now I create the colour code I want the classification variable to have:\n\nTable4 <- Table4 %>%\n  mutate(\n    Classification_colours = case_when(Classification == \"High\" ~ \"darkgreen\",\n                                       Classification == \"Low\" ~ \"red\",\n                                       TRUE ~ \"orange\")\n  )\n\n# Creating a tooltip option that will be used in the headers.\n\nwith_tooltip <- function(value, tooltip) {\n  tags$abbr(style = \"text-decoration: underline; text-decoration-style: dotted; cursor: help\",\n            title = tooltip, value)\n}\n\n\n# Because of issues hyperlinking to the DOI column in the Table4 data frame,\n# a new data frame was created just for that, and the hyperlinks are being\n# used from there:\n\nDOITable <- data.frame(\n  Study_ID = c(\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\",  \"9\", \"10\",\n               \"11\", \"12\", \"13\", \"14\", \"15\", \"16\", \"17\", \"18\", \"19\",\n               \"20\", \"21\", \"22\", \"23\", \"24\", \"25\", \"26\", \"27\", \"28\",\n               \"29\", \"30\", \"31\"),\n  DOI = c(\"https://doi.org/10.1007/s12310-022-09538-x\",\n          \"https://doi.org/10.1007/s12310-015-9160-1\",\n          \"https://doi.org/10.1093/her/cyu047\",\n          \"https://doi.org/10.1037//0022-006x.67.5.648\",\n          \"http://dx.doi.org/10.1037/spq0000233\",\n          \"Not available\",\n          \"https://doi.org/10.3389/fpsyg.2023.1065749\",\n          \"http://dx.doi.org/10.1016/j.jsp.2014.07.001\",\n          \"https://doi.org/10.1007/s10212-019-00452-6\",\n          \"https://doi.org/10.1080/02796015.2007.12087949\",\n          \"https://doi.org/10.1186/isrctn85087674\",\n          \"https://doi.org/10.1007/s11121-017-0802-4\",\n          \"Not available\",\n          \"https://doi.org/10.1037/e734362011-100\",\n          \"https://doi.org/10.1186/s40359-016-0133-4\",\n          \"https://doi.org/10.1002/ajcp.12092\",\n          \"https://doi.org/10.1007/s11121-018-0948-8\",\n          \"https://doi.org/10.1007/s11121-012-0359-1\",\n          \"https://doi.org/10.1080/14635240.2018.1431952\",\n          \"Not available\",\n          \"Not available\",\n          \"http://dx.doi.org/10.1037/edu0000360\",\n          \"https://doi.org/10.1080/02796015.2012.12087377\",\n          \"https://doi.org/10.1007/s10935-008-0153-9\",\n          \"https://doi.org/10.1086/699153\",\n          \"https://doi.org/10.2196/12003\",\n          \"http://dx.doi.org/10.1016/j.jsp.2017.07.005\",\n          \"https://doi.org/10.3389/fpsyg.2022.973184\",\n          \"https://doi.org/10.3310/phr06100\",\n          \"https://doi.org/10.1007/s11121-016-0670-3\",\n          \"https://doi.org/10.1016/j.jsp.2015.09.002\"))\n","type":"text"}]
